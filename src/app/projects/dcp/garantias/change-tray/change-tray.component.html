<div class="container">
    <div class="row">
        <div class="col-md-12 margin-b-15">
            <h4 class="font-w-700 margin-b-15">Interna de registro N°{{numberRecord}}</h4>
            <span class="pointer" (click)="onGarantias()">Garantías</span> > <span class="text-red pointer">Informe de
                reclamo</span>
        </div>
        <div class="col-md-12 margin-b-15">
            <h5>Informe del reclamo</h5>
        </div>
        <div class="col-md-12 mb-3">
            <mat-card>
                <div class="row">
                    <div class="col-md-3 flex-column margin-b-15" style="justify-content: center;">
                        <span>N° OS</span>
                        <span class="font-w-700">os20008484824</span>
                    </div>
                    <div class="col-md-3 margin-b-20">
                        <div class="row">
                            <div class="col-md-12 flex-row">
                                <div class="w7">
                                    <span>Tipo de garantia</span>
                                </div>
                                <div class="w3">
                                    <span class="font-w-700">GFA</span>
                                </div>
                            </div>
                            <div class="col-md-12 flex-row">
                                <div class="w7">
                                    <span>Serie</span>
                                </div>
                                <div class="w3">
                                    <span class="font-w-700">7809099</span>
                                </div>
                            </div>
                            <div class="col-md-12 flex-row">
                                <div class="w7">
                                    <span>Area de servicio</span>
                                </div>
                                <div class="w3">
                                    <span class="font-w-700">Piura</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 margin-b-20">
                        <div class="row">
                            <div class="col-md-12 flex-row">
                                <div class="w7">
                                    <span>SRT</span>
                                </div>
                                <div class="w3">
                                    <span class="font-w-700">{{montoTotalManoDeObraConPenalizacion | currency :
                                        'S/.': 'symbol':''}}</span>
                                </div>
                            </div>
                            <div class="col-md-12 flex-row">
                                <div class="w7">
                                    <span>Partes</span>
                                </div>
                                <div class="w3">
                                    <span class="font-w-700">{{montoTotalPartesConPenalizacion | currency: 'S/.':
                                        'symbol':''}}</span>
                                </div>
                            </div>
                            <div class="col-md-12 flex-row">
                                <div class="w7">
                                    <span>Otros reclamables</span>
                                </div>
                                <div class="w3">
                                    <span class="font-w-700">{{totalPrecioReclamables | currency: 'S/.':
                                        'symbol':''}}</span>
                                </div>
                            </div>
                            <div class="col-md-12 flex-row">
                                <div class="w7">
                                    <span>Viajes</span>
                                </div>
                                <div class="w3">
                                    <span class="font-w-700">{{montoTotalDeViajesConPenalizacion | currency: 'S/.':
                                        'symbol':''}}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 margin-b-20">
                        <div class="row">
                            <div class="col-md-12 flex-row">
                                <div class="w7">
                                    <span>IGV</span>
                                </div>
                                <div class="w3">
                                    <span class="font-w-700">{{montoIGV | currency :
                                        'S/.': 'symbol':''}}</span>
                                </div>
                            </div>
                            <div class="col-md-12 flex-row">
                                <div class="w7">
                                    <span>Total</span>
                                </div>
                                <div class="w3">
                                    <span class="font-w-700">{{montoTotal | currency :
                                        'S/.': 'symbol':''}}</span>
                                </div>
                            </div>
                            <div class="col-md-12 flex-row">
                                <div class="w7">
                                    <span>Total a reclamar</span>
                                </div>
                                <div class="w3">
                                    <span class="font-w-700">{{montoTotalConIGV | currency :
                                        'S/.': 'symbol':''}}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </mat-card>
        </div>
        <div class="col-md-12 buttons margin-b-20">
            <button [class]="styleButton.detallesStyle" mat-raised-button (click)="change('detalles')">Detalles del
                reclamo</button>
            <button [class]="styleButton.fallasStyle" mat-raised-button (click)="change('fallas')">Fallas</button>
            <button [class]="styleButton.srtStyle" mat-raised-button (click)="change('srt')">SRT</button>
            <button [class]="styleButton.partesStyle" mat-raised-button (click)="change('partes')">Partes</button>
            <button [class]="styleButton.otrosStyle" mat-raised-button (click)="change('otros')">Otros
                reclamables</button>
            <button [class]="styleButton.viajesStyle" mat-raised-button (click)="change('viajes')">Viajes</button>
            <button [class]="styleButton.narrativaStyle" mat-raised-button
                (click)="change('narrativa')">Narrativa</button>
            <button [class]="styleButton.verificacionStyle" mat-raised-button
                (click)="change('verificacion')">Verificación de detalle</button>
        </div>
        <div class="col-md-12 mb-5">
            <mat-card>
                <mat-card-content>
                    <div class="row">
                        <!-- DETALLES DEL RECLAMO-->
                        <div class="col-md-12 detalles" [hidden]="!button.detalles">
                            <form *ngIf="formGroupChangeTray" [formGroup]="formGroupChangeTray">
                                <h6>Detalle del reclamo</h6>
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="row">
                                            <div class="col-md-3">
                                                <mat-form-field appearance="fill">
                                                    <mat-label for="">ESN</mat-label>
                                                    <input matInput type="text" placeholder="Buscar ESN"
                                                        formControlName="esn">
                                                </mat-form-field>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12 mb-3">
                                        <mat-card class="card-bg-gray">
                                            <div class="row">
                                                <div class="col-md-12 margin-b-15">
                                                    <span class="font-w-500 font-sz-16">Información de matrícula</span>
                                                </div>
                                                <div class="col-md-3">
                                                    <mat-form-field appearance="fill">
                                                        <mat-label for="">Cliente</mat-label>
                                                        <input matInput [disabled]="true" type="text" placeholder=""
                                                            [value]="esn.cliente">
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-3">
                                                    <mat-form-field appearance="fill">
                                                        <mat-label for="">Direccion</mat-label>
                                                        <input matInput [disabled]="true" type="text" placeholder=""
                                                            [value]="esn.direccion">
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-3">
                                                    <mat-form-field appearance="fill">
                                                        <mat-label for="">Aplicacion del {{typeWarrantyText}}
                                                        </mat-label>
                                                        <input matInput [disabled]="true" type="text" placeholder=""
                                                            [value]="esn.aplicacion">
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-3">
                                                    <mat-form-field appearance="fill">
                                                        <mat-label for="">Modelo del {{typeWarrantyText}}</mat-label>
                                                        <input matInput [disabled]="true" type="text" placeholder=""
                                                            [value]="esn.modelo">
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-3">
                                                    <mat-form-field appearance="fill">
                                                        <mat-label for="">CPL</mat-label>
                                                        <input matInput [disabled]="true" type="text" placeholder=""
                                                            [value]="esn.cpl">
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-3">
                                                    <mat-form-field appearance="fill">
                                                        <mat-label for="">ETO</mat-label>
                                                        <input matInput [disabled]="true" type="text" placeholder=""
                                                            [value]="esn.etoPto">
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-3">
                                                    <mat-form-field appearance="fill">
                                                        <mat-label for="">Fecha inicio de garantía</mat-label>
                                                        <input matInput [disabled]="true" type="text" placeholder=""
                                                            [value]="esn.fechaInicioGarantia=='-'?'-':esn.fechaInicioGarantia | date: 'dd/MM/yyyy' ">
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-3 flex-align-center">
                                                    <mat-checkbox color="primary" [value]="esn.bis" [disabled]="true">
                                                        BIS</mat-checkbox>
                                                </div>
                                            </div>
                                        </mat-card>
                                    </div>
                                    <div class="col-md-12 mb-3"><span class="font-w-500 font-sz-16">Información del
                                            equipo</span></div>
                                    <div class="col-md-12">
                                        <div class="row">
                                            <div class="col-md-3">
                                                <mat-form-field>
                                                    <mat-label>Marca del equipo</mat-label>
                                                    <mat-select>
                                                        <mat-option *ngFor="let marca of marcas" [value]="marca.id">
                                                            {{marca.codigo}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3">
                                                <mat-form-field>
                                                    <mat-label>Modelo del equipo</mat-label>
                                                    <mat-select>
                                                        <mat-option *ngFor="let modelo of modelos" [value]="modelo.id">
                                                            {{modelo.codigo}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3">
                                                <mat-form-field>
                                                    <mat-label>VIN del equipo</mat-label>
                                                    <input type="text" matInput>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3"></div>
                                            <div class="col-md-3">
                                                <mat-form-field>
                                                    <mat-label>Tecnico responsable</mat-label>
                                                    <mat-select>
                                                        <mat-option> 1 </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3">
                                                <mat-form-field>
                                                    <mat-label>ID promotion</mat-label>
                                                    <input type="text" matInput [disabled]="true">
                                                </mat-form-field>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <hr width="100%">
                                    </div>
                                    <div class="col-md-12">
                                        <div class="row">
                                            <div class="col-md-3">
                                                <mat-form-field appearance="fill">
                                                    <mat-label for="">Orden de servicio</mat-label>
                                                    <input matInput type="text" placeholder="Buscar N° OS"
                                                        formControlName="os">
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3">
                                                <mat-form-field appearance="fill">
                                                    <mat-label for="">BU</mat-label>
                                                    <input matInput type="text" placeholder="" [disabled]="true"
                                                        [value]="os.bu">
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3"></div>
                                            <div class="col-md-3"></div>
                                        </div>
                                    </div>
                                    <div class="col-md-12 mb-3">
                                        <mat-card class="card-bg-gray">
                                            <div class="row">
                                                <div class="col-md-12 margin-b-15">
                                                    <span class="font-w-500 font-sz-16">Información del SAP</span>
                                                </div>
                                                <div class="col-md-3">
                                                    <mat-form-field appearance="fill">
                                                        <mat-label for="">Clase de actividad</mat-label>
                                                        <input matInput [disabled]="true" type="text" placeholder=""
                                                            [value]="os.claseActividad">
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-3">
                                                    <mat-form-field appearance="fill">
                                                        <mat-label for="">Fecha de liberacion</mat-label>
                                                        <input matInput [disabled]="true" type="text" placeholder=""
                                                            [value]="os.fechaLib=='-'?'-':os.fechaLib | date: 'dd/MM/yyyy' ">
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-3">
                                                    <mat-form-field appearance="fill">
                                                        <mat-label for="">Area de servicios</mat-label>
                                                        <input matInput [disabled]="true" type="text" placeholder=""
                                                            [value]="os.codAreaServicios">
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-3">
                                                </div>
                                            </div>
                                        </mat-card>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="row">
                                            <div class="col-md-3">
                                                <mat-form-field appearance="fill">
                                                    <mat-label for="">Tipo de garantía</mat-label>
                                                    <mat-select placeholder="Placeholder" formControlName="tipoGarantia"
                                                        (ngModelChange)="selectTypeWarranty()">
                                                        <mat-option *ngFor="let warrantyType of warrantyTypes"
                                                            [value]="warrantyType.value">{{warrantyType.name}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-9"></div>
                                            <div class="col-md-3" *ngIf="viewsTypesWarranty.e">
                                                <mat-form-field appearance="fill">
                                                    <mat-label for="">Numero de parte del repuesto</mat-label>
                                                    <input matInput type="text" placeholder="Ingresar"
                                                        formControlName="numParteRepuesto">
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3" *ngIf="viewsTypesWarranty.a">
                                                <mat-form-field appearance="fill">
                                                    <mat-label for="">Punto de falla</mat-label>
                                                    <input matInput type="text" placeholder="Ingresar"
                                                        formControlName="puntoFalla">
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3" *ngIf="viewsTypesWarranty.i">
                                                <mat-form-field appearance="fill">
                                                    <mat-label for="">Codigo</mat-label>
                                                    <input matInput type="text" placeholder="Ingresar"
                                                        formControlName="codigoAdicional">
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3" *ngIf="viewsTypesWarranty.g">
                                                <mat-form-field appearance="fill">
                                                    <mat-label for="">Punto de ejecución</mat-label>
                                                    <input matInput type="text" placeholder="Ingresar"
                                                        formControlName="ejecucionAdicional">
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3 flex-xy-center" *ngIf="viewsTypesWarranty.b">
                                                <mat-radio-group aria-label="Select an option" color="primary"
                                                    formControlName="medida">
                                                    <mat-radio-button value="h">H</mat-radio-button>
                                                    <mat-radio-button value="km">KM</mat-radio-button>
                                                </mat-radio-group>
                                            </div>
                                            <div class="col-md-3" *ngIf="viewsTypesWarranty.c">
                                                <mat-form-field appearance="fill">
                                                    <mat-label>Fecha de falla</mat-label>
                                                    <input matInput type="text" placeholder="Ingresar"
                                                        formControlName="fechaFalla"
                                                        [value]="warranty.fechaFalla | date: 'dd/MM/yyyy' ">
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3" *ngIf="viewsTypesWarranty.f">
                                                <mat-form-field appearance="fill">
                                                    <mat-label for="">N° de parte del componente</mat-label>
                                                    <input matInput type="text" placeholder="Ingresar"
                                                        formControlName="numParteFallo">
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3" *ngIf="viewsTypesWarranty.d">
                                                <mat-form-field appearance="fill">
                                                    <mat-label>Fecha de inicio de la garantia</mat-label>
                                                    <input matInput type="text" placeholder="Ingresar"
                                                        formControlName="fechaInicioGarantia">
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3" *ngIf="viewsTypesWarranty.h">
                                                <mat-form-field appearance="fill">
                                                    <mat-label>Fecha de ejecucion</mat-label>
                                                    <input matInput type="text" placeholder="Ingresar"
                                                        formControlName="ejecucionAdicional">
                                                </mat-form-field>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <hr width="100%">
                                    </div>
                                    <div class="col-md-12">
                                        <div class="row">
                                            <div class="col-md-12 margin-b-15">
                                                <span class="font-w-500 font-sz-16">Quejas</span>
                                            </div>
                                            <div class="col-md-3">
                                                <mat-form-field appearance="fill">
                                                    <mat-label for="">Queja 1</mat-label>
                                                    <mat-select placeholder="Placeholder" formControlName="idQueja1">
                                                        <mat-option *ngFor="let item of complaints" [value]="item.id">
                                                            {{item.descripcion}}</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3">
                                                <mat-form-field appearance="fill">
                                                    <mat-label for="">Queja 2</mat-label>
                                                    <mat-select placeholder="Placeholder" formControlName="idQueja2">
                                                        <mat-option *ngFor="let item of complaints" [value]="item.id">
                                                            {{item.descripcion}}</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3">
                                                <mat-form-field appearance="fill">
                                                    <mat-label for="">Queja 3</mat-label>
                                                    <mat-select placeholder="Placeholder" formControlName="idQueja3">
                                                        <mat-option *ngFor="let item of complaints" [value]="item.id">
                                                            {{item.descripcion}}</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3">
                                                <mat-form-field appearance="fill">
                                                    <mat-label for="">Queja 4</mat-label>
                                                    <mat-select placeholder="Placeholder" formControlName="idQueja4">
                                                        <mat-option *ngFor="let item of complaints" [value]="item.id">
                                                            {{item.descripcion}}</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3">
                                                <mat-form-field appearance="fill">
                                                    <mat-label for="">Usuario Evaluador</mat-label>
                                                    <mat-select placeholder="Placeholder"
                                                        formControlName="idUsuarioEvaluador">
                                                        <mat-option *ngFor="let user of users" [value]="user.value">
                                                            {{user.name}}</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <mat-form-field appearance="fill">
                                                    <mat-label for="">Comentarios</mat-label>
                                                    <textarea matInput placeholder="Ingrese sus comentarios"
                                                        formControlName="comentarios"></textarea>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-6"></div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <!-- FALLAS -->
                        <div class="col-md-12 fallas margin-b-15" [hidden]="!button.fallas">
                            <div class="row">
                                <div class="col-md-9">
                                    <h5>Fallas</h5>
                                </div>
                                <div class="col-md-3 text--end">
                                    <button mat-raised-button>
                                        <mat-icon svgIcon="heroicons_outline:upload"></mat-icon>
                                        Registro masivo de fallas
                                    </button>
                                </div>
                                <div class="col-md-2">
                                    <mat-form-field floatLabel="always">
                                        <mat-label>Sistema</mat-label>
                                        <mat-select placeholder="Seleccionar">
                                            <mat-option *ngFor="let tipoDeFalla of tiposDeFalla" [value]="tipoDeFalla.id" (click)="seleccionarFalla(tipoDeFalla.id)">
                                                {{tipoDeFalla.grupoMayor}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-2">
                                    <mat-form-field floatLabel="always">
                                        <mat-label>Parte fallada del sistema</mat-label>
                                        <mat-select placeholder="Seleccionar">
                                            <mat-option *ngFor="let tipoDeFalla of tiposDeFalla" [value]="tipoDeFalla.id" (click)="seleccionarFalla(tipoDeFalla.id)">
                                                {{tipoDeFalla.parteFallada}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-2">
                                    <mat-form-field floatLabel="always">
                                        <mat-label>Modo de falla</mat-label>
                                        <mat-select placeholder="Seleccionar" >
                                            <mat-option *ngFor="let tipoDeFalla of tiposDeFalla" [value]="tipoDeFalla.id" (click)="seleccionarFalla(tipoDeFalla.id)">
                                                {{tipoDeFalla.tipoFalla}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-1 flex-xy-center">
                                    <button mat-raised-button (click)="agregarFalla()">Agregar</button>
                                </div>
                                <div class="col-md-5"></div>
                                <div class="col-md-12">
                                    <mat-card class="card-table">
                                        <div class="row">
                                            <div class="col-md-11 FW-BOLD">Fallas ingresadas</div>
                                            <div class="col-md-1  text--center">
                                                <button mat-icon-button (click)="eliminarFallas()" [disabled]="dataSourceFallas.length==0">
                                                    <mat-icon svgIcon="heroicons_outline:trash"></mat-icon>
                                                </button>
                                            </div>
                                        </div>
                                    </mat-card>
                                </div>
                                <div class="col-md-12">
                                    <table mat-table [dataSource]="dataSourceFallas" class="mat-elevation-z8">
                                        <ng-container matColumnDef="codigo">
                                            <th mat-header-cell *matHeaderCellDef width="18%"> Código de Falla </th>
                                            <td mat-cell *matCellDef="let element"> {{element.codigo}} </td>
                                        </ng-container>
                                        <ng-container matColumnDef="sistema">
                                            <th mat-header-cell *matHeaderCellDef width="18%"> Sistema </th>
                                            <td mat-cell *matCellDef="let element"> {{element.grupoMayor}} </td>
                                        </ng-container>
                                        <ng-container matColumnDef="parteFalladaDelSistema">
                                            <th mat-header-cell *matHeaderCellDef width="18%"> Parte Fallada del Sistema
                                            </th>
                                            <td mat-cell *matCellDef="let element"> {{element.parteFallada}} </td>
                                        </ng-container>
                                        <ng-container matColumnDef="modoDeFalla">
                                            <th mat-header-cell *matHeaderCellDef width="18%"> Modo de Falla </th>
                                            <td mat-cell *matCellDef="let element"> {{element.tipoFalla}} </td>
                                        </ng-container>
                                        <ng-container matColumnDef="descripcionCodigoDefalla">
                                            <th mat-header-cell *matHeaderCellDef width="23%"> Descripción de código de
                                                falla </th>
                                            <td mat-cell *matCellDef="let element"> {{element.descripcion}} </td>
                                        </ng-container>
                                        <ng-container matColumnDef="accion">
                                            <th mat-header-cell *matHeaderCellDef width="5%">
                                                <mat-checkbox color="primary"
                                                [(ngModel)]="checkBoxEliminarTodoFallas"
                                                [ngModelOptions]="{standalone: true}"
                                                (ngModelChange)="seleccionarTodasLasFallas()"
                                                [disabled]="dataSourceFallas.length==0"></mat-checkbox>
                                            </th>
                                            <td mat-cell *matCellDef="let element">
                                                <mat-checkbox color="primary" [(ngModel)]="element.check" [ngModelOptions]="{standalone: true}"></mat-checkbox>
                                            </td>
                                        </ng-container>
                                        <tr mat-header-row *matHeaderRowDef="displayedColumnsFallas"></tr>
                                        <tr mat-row *matRowDef="let row; columns: displayedColumnsFallas;"></tr>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!-- SRT OK-->
                        <div class="col-md-12 srt margin-b-15" [hidden]="!button.srt">
                            <div class="row">
                                <div class="col-md-9">
                                    <span class="font-w-700">SRT</span>
                                </div>
                                <div class="col-md-3 text--end">
                                    <button mat-raised-button>
                                        <mat-icon svgIcon="heroicons_outline:upload"></mat-icon>
                                        Registro masivo de SRT
                                    </button>
                                </div>
                                <div class="col-md-12">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <span class="font-w-700">SRT existente</span>
                                        </div>
                                        <div class="col-md-3">
                                            <form [formGroup]="formBuscarSrt">
                                                <mat-form-field appearance="fill">
                                                    <mat-label>Codigo SRT:</mat-label>
                                                    <input matInput type="text" placeholder="Ingresa"
                                                        formControlName="codigoBuscarSrt">
                                                    <button mat-icon-button matSuffix (click)="buscarSrt()">
                                                        <mat-icon svgIcon="heroicons_outline:search"></mat-icon>
                                                    </button>
                                                </mat-form-field>
                                            </form>
                                        </div>
                                        <div class="col-md-6 d-flex justify-content-start align-items-center"
                                            *ngIf="verMensajeAgregarNuevoSrt">
                                            <span class="text-primary">El SRT ingresado no existe, puede crearlo usando
                                                los campos de abajo.</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12" *ngIf="verCamposNuevoSrt">
                                    <form *ngIf="formSrt" [formGroup]="formSrt">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <span class="font-w-700">Nuevo SRT</span>
                                            </div>
                                            <div class="col-md-3">
                                                <mat-form-field appearance="fill">
                                                    <mat-label>Donde se reparó</mat-label>
                                                    <mat-select placeholder="Placeholder" [(ngModel)]="dondeSeReparo"
                                                        [ngModelOptions]="{standalone: true}">
                                                        <mat-option [value]="1">Taller</mat-option>
                                                        <mat-option [value]="2">Campo</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-9"></div>
                                            <div class="col-md-2">
                                                <mat-form-field appearance="fill">
                                                    <mat-label>Codigo:</mat-label>
                                                    <input matInput type="text" placeholder="Ingresa"
                                                        formControlName="codigo">
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-2">
                                                <mat-form-field appearance="fill">
                                                    <mat-label>Descripcion:</mat-label>
                                                    <input matInput type="text" placeholder="Ingresa"
                                                        formControlName="descripcion">
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-2">
                                                <mat-form-field appearance="fill">
                                                    <mat-label>Cantidad:</mat-label>
                                                    <input matInput type="number" placeholder="Ingresa"
                                                        formControlName="cantidad">
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-2">
                                                <mat-form-field appearance="fill">
                                                    <mat-label>SRT fabrica:</mat-label>
                                                    <input matInput type="text" placeholder="Ingresa"
                                                        formControlName="srtFabrica">
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-2">
                                                <mat-form-field appearance="fill">
                                                    <mat-label>Codigo de acceso:</mat-label>
                                                    <input matInput type="text" placeholder="Ingresa"
                                                        formControlName="codigoAcceso">
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-1 flex-xy-center">
                                                <button mat-raised-button (click)="guardarNuevaSrt()">Agregar</button>
                                            </div>
                                            <div class="col-md-1 flex-xy-center">
                                                <button mat-raised-button (click)="limpiarCamposSrt()">Limpiar</button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-12">
                                    <mat-card class="card-table">
                                        <div class="row">
                                            <div class="col-md-11">
                                                <span class="font-w-700">SRT ingresados</span>
                                            </div>
                                            <div class="col-md-1  text--center">
                                                <button mat-icon-button (click)="eliminarSrts()" [disabled]="dataSourceSrt.length==0">
                                                    <mat-icon svgIcon="heroicons_outline:trash"></mat-icon>
                                                </button>
                                            </div>
                                        </div>
                                    </mat-card>
                                </div>
                                <div class="col-md-12 margin-b-15">
                                    <table mat-table [dataSource]="dataSourceSrt" class="mat-elevation-z8">
                                        <ng-container matColumnDef="codigo">
                                            <th mat-header-cell *matHeaderCellDef width="12%"> Código SRT </th>
                                            <td mat-cell *matCellDef="let element">
                                                {{element.grupoSrt+'-'+element.procedimiento}} </td>
                                        </ng-container>
                                        <ng-container matColumnDef="cantidad">
                                            <th mat-header-cell *matHeaderCellDef width="12%"> Cantidad </th>
                                            <td mat-cell *matCellDef="let element, let i = index">
                                                <mat-form-field class="pt-4">
                                                    <input matInput type="text" [(ngModel)]="element.cantidadSrt"
                                                        [ngModelOptions]="{standalone: true}"
                                                        (ngModelChange)="calcularSubTotalSrt(i)">
                                                </mat-form-field>
                                            </td>
                                        </ng-container>
                                        <ng-container matColumnDef="hhInvertida">
                                            <th mat-header-cell *matHeaderCellDef width="12%"> H-H invertida </th>
                                            <td mat-cell *matCellDef="let element, let i = index">
                                                <mat-form-field class="pt-4">
                                                    <input matInput type="text" [(ngModel)]="element.horasHombreSrt"
                                                        [ngModelOptions]="{standalone: true}"
                                                        (ngModelChange)="calcularSubTotalSrt(i)">
                                                </mat-form-field>
                                            </td>
                                        </ng-container>
                                        <ng-container matColumnDef="srtFabrica">
                                            <th mat-header-cell *matHeaderCellDef width="12%"> SRT Fábrica </th>
                                            <td mat-cell *matCellDef="let element"> {{element.srtFabrica}} </td>
                                        </ng-container>
                                        <ng-container matColumnDef="descripcion">
                                            <th mat-header-cell *matHeaderCellDef width="23%"> Descripción </th>
                                            <td mat-cell *matCellDef="let element"> {{element.descripcion}}</td>
                                        </ng-container>
                                        <ng-container matColumnDef="codigoAcceso">
                                            <th mat-header-cell *matHeaderCellDef width="12%"> Código de acceso </th>
                                            <td mat-cell *matCellDef="let element"> {{element.codigoAcceso}}</td>
                                        </ng-container>
                                        <ng-container matColumnDef="subTotalHH">
                                            <th mat-header-cell *matHeaderCellDef width="12%"> Sub total H-H </th>
                                            <td mat-cell *matCellDef="let element"> {{element.subTotalSrt | currency :
                                                'symbol':'' }} </td>
                                        </ng-container>
                                        <ng-container matColumnDef="accion">
                                            <th mat-header-cell *matHeaderCellDef width="5%">
                                                <mat-checkbox color="primary" [(ngModel)]="checkBoxEliminarTodoSrt"
                                                    [ngModelOptions]="{standalone: true}"
                                                    (ngModelChange)="seleccionarTodoSrt()"
                                                    [disabled]="dataSourceSrt.length==0"></mat-checkbox>
                                            </th>
                                            <td mat-cell *matCellDef="let element,  let i = index">
                                                <mat-checkbox color="primary" [(ngModel)]="element.check"
                                                    [ngModelOptions]="{standalone: true}"></mat-checkbox>
                                            </td>
                                        </ng-container>
                                        <tr mat-header-row *matHeaderRowDef="displayedColumnsSrt"></tr>
                                        <tr mat-row *matRowDef="let row; columns: displayedColumnsSrt;"></tr>
                                    </table>
                                </div>
                                <div class="col-md-12">
                                    <div class="row">
                                        <div class="col-md-3" style="padding: 0 0 0 40px;"><span>Totales</span></div>
                                        <div class="col-md-2 text-start" style="padding: 0;">
                                            <mat-form-field style="width: 58%;">
                                                <input matInput type="text" placeholder="0"
                                                    [value]="totalHorasHombre | currency : 'symbol':''"
                                                    [disabled]="true">
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-4"></div>
                                        <div class="col-md-3 text--center">
                                            <mat-form-field style="width: 50%;">
                                                <input matInput type="text" placeholder="0"
                                                    [value]="montoTotalManoDeObra | currency : 'symbol':''"
                                                    [disabled]="true">
                                            </mat-form-field>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12 flex-row margin-b-10">
                                    <div class="w4">
                                        <span>Monto total mano de obra $</span>
                                    </div>
                                    <div class="w6">
                                        <span class="font-w-700">{{montoTotalManoDeObra | currency : 'S/.':
                                            'symbol':''}}</span>
                                    </div>
                                </div>
                                <div class="col-md-12 flex-row margin-b-10">
                                    <div class="w4">
                                        <span>Monto total SRT Mano de obra con penalización $</span>
                                    </div>
                                    <div class="w6">
                                        <span class="font-w-700">{{montoTotalManoDeObraConPenalizacion | currency :
                                            'S/.': 'symbol':''}}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- PARTES OK -->
                        <div class="col-md-12 partes margin-b-15" [hidden]="!button.partes">
                            <div class="row">
                                <div class="col-md-9">
                                    <span class="font-w-700">Partes</span>
                                </div>
                                <div class="col-md-3 text--end">
                                    <button mat-raised-button>
                                        <mat-icon svgIcon="heroicons_outline:upload"></mat-icon>
                                        Registro masivo de partes
                                    </button>
                                </div>
                                <div class="col-md-3">
                                    <form [formGroup]="formBuscarParte">
                                        <mat-form-field appearance="fill">
                                            <mat-label>Numero de parte:</mat-label>
                                            <input matInput type="text" placeholder="Ingresa"
                                                formControlName="codigoBuscarParte" onClick="this.select()">
                                            <button mat-icon-button matSuffix (click)="buscarParte()">
                                                <mat-icon svgIcon="heroicons_outline:search"></mat-icon>
                                            </button>
                                        </mat-form-field>
                                    </form>
                                </div>
                                <!-- <div class="col-md-2 flex-xy-center">
                                    <button mat-raised-button>Agregar</button>
                                </div> -->
                                <div class="col-md-9 d-flex justify-content-start align-items-center">
                                    <span class="text-danger" *ngIf="mensajeParteNoExiste">Parte ingresada no existe en
                                        la base de datos</span>
                                </div>
                                <div class="col-md-12">
                                    <mat-card class="card-table">
                                        <div class="row">
                                            <div class="col-md-11">
                                                <span class="font-w-700">Partes ingresadas</span>
                                            </div>
                                            <div class="col-md-1  text--center">
                                                <button mat-icon-button (click)="eliminarPartes()"
                                                    [disabled]="dataSourcePartes.length==0">
                                                    <mat-icon svgIcon="heroicons_outline:trash"></mat-icon>
                                                </button>
                                            </div>
                                        </div>
                                    </mat-card>
                                </div>
                                <div class="col-md-12 margin-b-15">
                                    <table mat-table [dataSource]="dataSourcePartes" class="mat-elevation-z8">
                                        <ng-container matColumnDef="numeroParte">
                                            <th mat-header-cell *matHeaderCellDef width="15%"> Numero de parte </th>
                                            <td mat-cell *matCellDef="let element"> {{element.codigo}}</td>
                                        </ng-container>
                                        <ng-container matColumnDef="descripcion">
                                            <th mat-header-cell *matHeaderCellDef width="20%"> Descripcion </th>
                                            <td mat-cell *matCellDef="let element"> {{element.descripcion}} </td>
                                        </ng-container>
                                        <ng-container matColumnDef="cantidad">
                                            <th mat-header-cell *matHeaderCellDef width="15%"> Cantidad </th>
                                            <td mat-cell *matCellDef="let element, let i = index">
                                                <mat-form-field class="pt-4">
                                                    <input matInput type="text" placeholder="0"
                                                        [(ngModel)]="element.cantidadParte"
                                                        [ngModelOptions]="{standalone: true}"
                                                        (ngModelChange)="calcularSubTotalPartes(i)">
                                                </mat-form-field>
                                            </td>
                                        </ng-container>
                                        <ng-container matColumnDef="precioUnitario">
                                            <th mat-header-cell *matHeaderCellDef width="15%"> Precio Unit. </th>
                                            <td mat-cell *matCellDef="let element, let i = index">
                                                <mat-form-field class="pt-4">
                                                    <input matInput type="text" placeholder="0"
                                                        [(ngModel)]="element.precioUnitarioParte"
                                                        [ngModelOptions]="{standalone: true}"
                                                        (ngModelChange)="calcularSubTotalPartes(i)">
                                                </mat-form-field>
                                            </td>
                                        </ng-container>
                                        <ng-container matColumnDef="precioListaSap">
                                            <th mat-header-cell *matHeaderCellDef width="15%"> Precio lista SAP </th>
                                            <td mat-cell *matCellDef="let element"> {{element.precioFob | currency:
                                                'symbol':''}} </td>
                                        </ng-container>
                                        <ng-container matColumnDef="subTotal">
                                            <th mat-header-cell *matHeaderCellDef width="15%"> Sub Total </th>
                                            <td mat-cell *matCellDef="let element"> {{ element.subTotalParte | currency:
                                                'symbol':'' }} </td>
                                        </ng-container>
                                        <ng-container matColumnDef="accion">
                                            <th mat-header-cell *matHeaderCellDef width="5%">
                                                <mat-checkbox color="primary" [(ngModel)]="checkBoxEliminarTodoPartes"
                                                    [ngModelOptions]="{standalone: true}"
                                                    (ngModelChange)="seleccionarTodoPartes()"
                                                    [disabled]="dataSourcePartes.length==0"></mat-checkbox>
                                            </th>
                                            <td mat-cell *matCellDef="let element">
                                                <mat-checkbox color="primary" [(ngModel)]="element.check"
                                                    [ngModelOptions]="{standalone: true}"></mat-checkbox>
                                            </td>
                                        </ng-container>
                                        <tr mat-header-row *matHeaderRowDef="displayedColumnsPartes"></tr>
                                        <tr mat-row *matRowDef="let row; columns: displayedColumnsPartes;"></tr>
                                    </table>
                                </div>
                                <div class="col-md-12">
                                    <div class="row">
                                        <div class="col-md-9 d-flex justify-content-end align-items-center">
                                            <span>Total:</span></div>
                                        <div class="col-md-3 d-flex justify-content-start alig-items-center">
                                            <mat-form-field style="width: 60%;"><input matInput type="text"
                                                    placeholder="" [value]="montoTotalPartes | currency: 'symbol':''"
                                                    [disabled]="true"> </mat-form-field>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12 flex-row margin-b-10">
                                    <div class="w3">
                                        <span>Monto total de partes $</span>
                                    </div>
                                    <div class="w7">
                                        <span class="font-w-700">{{montoTotalPartes | currency: 'S/.':
                                            'symbol':''}}</span>
                                    </div>
                                </div>
                                <div class="col-md-12 flex-row margin-b-10">
                                    <div class="w3">
                                        <span>Monto total partes con penalización $</span>
                                    </div>
                                    <div class="w7">
                                        <span class="font-w-700">{{montoTotalPartesConPenalizacion | currency: 'S/.':
                                            'symbol':''}}</span>
                                    </div>
                                </div>
                                <div class="col-md-12 flex-row margin-b-10">
                                    <div class="w3">
                                        <span>Monto total de partes en SAP</span>
                                    </div>
                                    <div class="w7">
                                        <span class="font-w-700">{{montoTotalPartesEnSAP | currency: 'S/.':
                                            'symbol':''}}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- OTROS RECLAMABLES OK-->
                        <div class="col-md-12 otrosReclamables margin-b-15" [hidden]="!button.otros">
                            <div class="row">
                                <div class="col-md-8">
                                    <span class="font-w-700">Otros reclamables</span>
                                </div>
                                <div class="col-md-4 text--end">
                                    <button mat-raised-button>
                                        <mat-icon svgIcon="heroicons_outline:upload"></mat-icon>
                                        Registro masivo de otros reclamables
                                    </button>
                                </div>
                                <div class="col-md-2">
                                    <mat-form-field appearance="fill">
                                        <mat-label>Reclamable</mat-label>
                                        <mat-select placeholder="Placeholder" [(ngModel)]="idReclamable"
                                            [ngModelOptions]="{standalone: true}"
                                            (ngModelChange)="buscarDescripcionDelReclamable()">
                                            <mat-option *ngFor="let reclamable of reclamables" [value]="reclamable.id">
                                                {{reclamable.codigo}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-5">
                                    <mat-form-field appearance="fill">
                                        <mat-label>Descripcion:</mat-label>
                                        <input matInput type="text" placeholder="Ingresa"
                                            [value]="descripcionReclamable" [disabled]="true">
                                    </mat-form-field>
                                </div>
                                <div class="col-md-1 flex-xy-center">
                                    <button mat-raised-button (click)="agregarReclamable()">Agregar</button>
                                </div>
                                <div class="col-md-1 flex-xy-center">
                                    <button mat-raised-button (click)="limpiarReclamables()">Limpiar</button>
                                </div>
                                <div class="col-md-12">
                                    <mat-card class="card-table" style="width: 75%;">
                                        <div class="row">
                                            <div class="col-md-11">
                                                <span class="font-w-700">Otros reclamables ingresados</span>
                                            </div>
                                            <div class="col-md-1  text--center">
                                                <button mat-icon-button (click)="eliminarReclamables()"
                                                    [disabled]="dataSourceOtrosReclamables.length==0">
                                                    <mat-icon svgIcon="heroicons_outline:trash"></mat-icon>
                                                </button>
                                            </div>
                                        </div>
                                    </mat-card>
                                </div>
                                <div class="col-md-12 margin-b-15">
                                    <table mat-table [dataSource]="dataSourceOtrosReclamables" class="mat-elevation-z8"
                                        style="width: 75%;">
                                        <ng-container matColumnDef="descripcion">
                                            <th mat-header-cell *matHeaderCellDef width="75%"> Descripcion </th>
                                            <td mat-cell *matCellDef="let element"> {{element.descripcion}}</td>
                                        </ng-container>
                                        <ng-container matColumnDef="precio">
                                            <th mat-header-cell *matHeaderCellDef width="20%"> Precio </th>
                                            <td mat-cell *matCellDef="let element">
                                                <mat-form-field class="pt-4">
                                                    <input matInput type="text" [(ngModel)]="element.precioReclamable"
                                                        [ngModelOptions]="{standalone: true}"
                                                        (ngModelChange)="calcularTotalReclamables()">
                                                </mat-form-field>
                                            </td>
                                        </ng-container>
                                        <ng-container matColumnDef="accion">
                                            <th mat-header-cell *matHeaderCellDef width="5%">
                                                <mat-checkbox color="primary"
                                                    [(ngModel)]="checkBoxEliminarTodoReclamables"
                                                    [ngModelOptions]="{standalone: true}"
                                                    (ngModelChange)="seleccionarTodoReclamables()"
                                                    [disabled]="dataSourceOtrosReclamables.length==0"></mat-checkbox>
                                            </th>
                                            <td mat-cell *matCellDef="let element" class="text--end">
                                                <mat-checkbox color="primary" [(ngModel)]="element.check"
                                                    [ngModelOptions]="{standalone: true}"></mat-checkbox>
                                            </td>
                                        </ng-container>
                                        <tr mat-header-row *matHeaderRowDef="displayedColumnsOtrosReclamables"></tr>
                                        <tr mat-row *matRowDef="let row; columns: displayedColumnsOtrosReclamables;">
                                        </tr>
                                    </table>
                                </div>
                                <div class="col-md-12">
                                    <div class="row" style="width: 75%;">
                                        <div class="col-md-9 d-flex justify-content-end align-items-center">
                                            <span>Total:</span></div>
                                        <div class="col-md-3 d-flex justify-content-start align-items-center">
                                            <mat-form-field style="width: 65%;">
                                                <input matInput type="text" placeholder=""
                                                    [value]="totalPrecioReclamables | currency: 'symbol':''"
                                                    [disabled]="true">
                                            </mat-form-field>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12 flex-row margin-b-10">
                                    <div class="w3">
                                        <span>Monto total de otros reclamables $</span>
                                    </div>
                                    <div class="w7">
                                        <span class="font-w-700">{{totalPrecioReclamables | currency: 'S/.':
                                            'symbol':''}}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- VIAJES OK -->
                        <div class="col-md-12 viajes margin-b-15" [hidden]="!button.viajes">
                            <div class="row">
                                <div class="col-md-9">
                                    <h5>Viajes</h5>
                                </div>
                                <div class="col-md-3 text--end">
                                    <button mat-raised-button>
                                        <mat-icon svgIcon="heroicons_outline:upload"></mat-icon>
                                        Registro masivo de viajes
                                    </button>
                                </div>
                                <div class="col-md-3">
                                    <mat-form-field appearance="fill">
                                        <mat-label>Fecha:</mat-label>
                                        <input matInput [matDatepicker]="picker" [(ngModel)]="fechaDeViaje"
                                            [ngModelOptions]="{standalone: true}">
                                        <!-- <mat-hint>MM/DD/YYYY</mat-hint> -->
                                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                        <mat-datepicker #picker></mat-datepicker>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-3">
                                    <mat-form-field appearance="fill">
                                        <mat-label>Medio de transporte</mat-label>
                                        <mat-select placeholder="Placeholder"
                                            [(ngModel)]="medioDeTransporteSeleccionado"
                                            [ngModelOptions]="{standalone: true}">
                                            <mat-option [value]="{idMedioTransporte:1,tipoTransporte:'terrestre'}">
                                                Terrestre</mat-option>
                                            <mat-option [value]="{idMedioTransporte:2,tipoTransporte:'maritimo'}">
                                                Maritimo</mat-option>
                                            <mat-option [value]="{idMedioTransporte:3,tipoTransporte:'aereo'}">Aereo
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-3">
                                    <mat-form-field appearance="fill">
                                        <mat-label>Descripcion:</mat-label>
                                        <input matInput type="text" placeholder="ingresar"
                                            [(ngModel)]="descripcionDeViaje" [ngModelOptions]="{standalone: true}">
                                    </mat-form-field>
                                </div>
                                <div class="col-md-3"></div>
                                <div class="col-md-3">
                                    <mat-form-field appearance="fill">
                                        <mat-label>Tipo:</mat-label>
                                        <mat-select placeholder="Placeholder" [(ngModel)]="tipoDeViajeSeleccionado"
                                            [ngModelOptions]="{standalone: true}">
                                            <mat-option *ngFor="let tipoDeViaje of tiposDeViaje"
                                                [value]=" { idTipoViaje : tipoDeViaje.id, codigoTipoViaje : tipoDeViaje.codigo } ">
                                                {{tipoDeViaje.codigo}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-3">
                                    <mat-form-field appearance="fill">
                                        <mat-label>Detalle:</mat-label>
                                        <mat-select placeholder="Placeholder" [(ngModel)]="detalleDeViajeSeleccionado"
                                            [ngModelOptions]="{standalone: true}">
                                            <mat-option *ngFor="let detalleViaje of detallesDeViaje"
                                                [value]="{ idDetalleViaje:detalleViaje.id , codigoDetalleViaje:detalleViaje.codigo}">
                                                {{detalleViaje.codigo}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-3">
                                    <mat-form-field appearance="fill">
                                        <mat-label>Cantidad de tecnicos:</mat-label>
                                        <input matInput type="text" placeholder="ingresar"
                                            [(ngModel)]="cantidadDeTecnicos" [ngModelOptions]="{standalone: true}">
                                    </mat-form-field>
                                </div>
                                <div class="col-md-1 flex-xy-center">
                                    <button mat-raised-button (click)="agregarViaje()">Agregar</button>
                                </div>
                                <div class="col-md-2"></div>
                                <div class="col-md-12">
                                    <mat-card class="card-table">
                                        <div class="row">
                                            <div class="col-md-11"><span class="font-w-700">Viajes ingresados</span>
                                            </div>
                                            <div class="col-md-1  text--center"><button mat-icon-button
                                                    (click)="eliminarViajes()" [disabled]="dataSourceViajes.length==0">
                                                    <mat-icon svgIcon="heroicons_outline:trash"></mat-icon>
                                                </button></div>
                                        </div>
                                    </mat-card>
                                </div>
                                <div class="col-md-12 mb-5">
                                    <table mat-table [dataSource]="dataSourceViajes" class="mat-elevation-z8">
                                        <ng-container matColumnDef="fecha">
                                            <th mat-header-cell *matHeaderCellDef width="13%"> Fecha: </th>
                                            <td mat-cell *matCellDef="let element"> {{element.fechaDeViaje | date:
                                                'dd/MM/yyyy'}} </td>
                                        </ng-container>
                                        <ng-container matColumnDef="medioTransporte">
                                            <th mat-header-cell *matHeaderCellDef width="13%"> Medio de Transporte </th>
                                            <td mat-cell *matCellDef="let element"> {{element.tipoTransporte}} </td>
                                        </ng-container>
                                        <ng-container matColumnDef="descripcion">
                                            <th mat-header-cell *matHeaderCellDef width="15%"> Descripcion </th>
                                            <td mat-cell *matCellDef="let element"> {{element.descripcionDeViaje}} </td>
                                        </ng-container>
                                        <ng-container matColumnDef="tipo">
                                            <th mat-header-cell *matHeaderCellDef width="10%"> Tipo </th>
                                            <td mat-cell *matCellDef="let element"> {{element.codigoTipoViaje}} </td>
                                        </ng-container>
                                        <ng-container matColumnDef="detalle">
                                            <th mat-header-cell *matHeaderCellDef width="14%"> Detalle </th>
                                            <td mat-cell *matCellDef="let element"> {{element.codigoDetalleViaje}} </td>
                                        </ng-container>
                                        <ng-container matColumnDef="unidadMedida">
                                            <th mat-header-cell *matHeaderCellDef width="10%"> Unidad de Medida </th>
                                            <td mat-cell *matCellDef="let element"> {{element.unidadDeMedida}} </td>
                                        </ng-container>
                                        <ng-container matColumnDef="valor">
                                            <th mat-header-cell *matHeaderCellDef width="10%"> Valor </th>
                                            <td mat-cell *matCellDef="let element, let i = index">
                                                <mat-form-field class="pt-4">
                                                    <input matInput type="text" [(ngModel)]="element.valorDeViaje"
                                                        [ngModelOptions]="{standalone: true}"
                                                        (ngModelChange)="calcularSubTotalDeViaje(i)">
                                                </mat-form-field>
                                            </td>
                                        </ng-container>
                                        <ng-container matColumnDef="costo">
                                            <th mat-header-cell *matHeaderCellDef width="10%"> Costo </th>
                                            <td mat-cell *matCellDef="let element, let i = index" class="ps-3">
                                                {{element.costoDeViaje | currency: 'symbol':'' }} </td>
                                        </ng-container>
                                        <ng-container matColumnDef="accion">
                                            <th mat-header-cell *matHeaderCellDef width="5%">
                                                <mat-checkbox color="primary" [(ngModel)]="checkBoxEliminarTodoViajes"
                                                    [ngModelOptions]="{standalone: true}"
                                                    (ngModelChange)="seleccionarTodoViajes()"
                                                    [disabled]="dataSourceViajes.length==0"></mat-checkbox>
                                            </th>
                                            <td mat-cell *matCellDef="let element">
                                                <mat-checkbox color="primary" [(ngModel)]="element.check"
                                                    [ngModelOptions]="{standalone: true}"></mat-checkbox>
                                            </td>
                                        </ng-container>
                                        <tr mat-header-row *matHeaderRowDef="displayedColumnsViajes"></tr>
                                        <tr mat-row *matRowDef="let row; columns: displayedColumnsViajes;"></tr>
                                    </table>
                                </div>
                                <div class="col-md-12">
                                    <div class="row">
                                        <div class="col-md-10 d-flex justify-content-end align-items-center">
                                            <span>Total:</span></div>
                                        <div class="col-md-2 d-flex justify-content-start align-items-center">
                                            <mat-form-field style="width: 65%;">
                                                <input matInput type="text" placeholder=""
                                                    [value]="montoTotalDeViajes | currency: 'symbol':''"
                                                    [disabled]="true">
                                            </mat-form-field>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12 flex-row margin-b-10">
                                    <div class="w3">
                                        <span>Monto total de viajes $</span>
                                    </div>
                                    <div class="w7">
                                        <span class="font-w-700">
                                            {{montoTotalDeViajes | currency: 'S/.': 'symbol':''}}
                                        </span>
                                    </div>
                                </div>
                                <div class="col-md-12 flex-row margin-b-10">
                                    <div class="w3">
                                        <span>Monto total de viajes con penalización $</span>
                                    </div>
                                    <div class="w7">
                                        <span class="font-w-700">{{montoTotalDeViajesConPenalizacion | currency: 'S/.':
                                            'symbol':''}}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- NARRATIVAS  -->
                        <div class="col-md-12 narrativa margin-b-15" [hidden]="!button.narrativa">
                            <div class="row">
                                <div class="col-md-9">
                                    <h5>Narrativa</h5>
                                </div>
                                <div class="col-md-12">
                                    <mat-card class="card-table">
                                        <div class="row">
                                            <div class="col-md-11"><span class="font-w-700">Narrativa ingresada</span>
                                            </div>
                                        </div>
                                    </mat-card>
                                    <mat-card class="card-narrativa-cabezera">
                                        <div class="row">
                                            <div class="col-md-2"><span class="font-w-700">Quejas</span></div>
                                            <div class="col-md-2"><span class="font-w-700">ID Promotion</span></div>
                                            <div class="col-md-2"><span class="font-w-700">Técnico</span></div>
                                            <div class="col-md-3"><span class="font-w-700">Causas</span></div>
                                            <div class="col-md-3"><span class="font-w-700">Correcciones</span></div>
                                        </div>
                                    </mat-card>
                                    <mat-card class="card-narrativa-cuerpo">
                                        <div class="row">
                                            <div class="col-md-2 d-flex align-items-center font-w-700">
                                                <div>
                                                    <div class="col-md-12">{{queja1.descripcion}}</div>
                                                    <div class="col-md-12">{{queja2.descripcion}}</div>
                                                    <div class="col-md-12">{{queja3.descripcion}}</div>
                                                    <div class="col-md-12">{{queja4.descripcion}}</div>
                                                </div>
                                            </div>
                                            <div class="col-md-2 d-flex align-items-center"><span>ID Promotion</span>
                                            </div>
                                            <div class="col-md-2 d-flex align-items-center"><span>Técnico</span></div>
                                            <div class="col-md-3 d-flex align-items-center">
                                                <mat-form-field>
                                                    <textarea matInput [(ngModel)]="causasNarrativa"
                                                        [ngModelOptions]="{standalone: true}"></textarea>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3 d-flex align-items-center">
                                                <mat-form-field>
                                                    <textarea matInput [(ngModel)]="correccionesNarrativa"
                                                        [ngModelOptions]="{standalone: true}"></textarea>
                                                </mat-form-field>
                                            </div>
                                        </div>
                                    </mat-card>
                                </div>
                            </div>
                        </div>
                        <!-- VERIFICACION -->
                        <div class="col-md-12 verificacionDetalle margin-b-15" [hidden]="!button.verificacion">
                            <div class="row">
                                <div class="col-md-9 margin-b-15">
                                    <h5>Vereficacion detalle</h5>
                                </div>
                                <div class="col-md-3 text--end margin-b-15">
                                    <button mat-raised-button>
                                        <mat-icon svgIcon="heroicons_solid:folder-open"></mat-icon>
                                        Ver documentos
                                    </button>
                                </div>
                                <div class="col-md-12 margin-b-15">
                                    <mat-accordion>
                                        <!-- DETALLE RECLAMO-->
                                        <mat-expansion-panel>
                                            <mat-expansion-panel-header>
                                                <mat-panel-title class="font-w-700">Detalle de reclamo</mat-panel-title>
                                                <mat-panel-description>
                                                    <p class="monto-narrativa font-w-700">-</p>
                                                </mat-panel-description>
                                            </mat-expansion-panel-header>
                                            <hr color="#E2E8F0">
                                            <p>This is the primary content of the panel.</p>
                                        </mat-expansion-panel>
                                        <!-- FALLAS-->
                                        <mat-expansion-panel>
                                            <mat-expansion-panel-header>
                                                <mat-panel-title class="font-w-700">Fallas</mat-panel-title>
                                                <mat-panel-description>
                                                    <p class="monto-narrativa font-w-700">{{montoTotalPartes | currency:
                                                        'S/.': 'symbol':''}}</p>
                                                </mat-panel-description>
                                            </mat-expansion-panel-header>
                                            <hr color="#E2E8F0">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <mat-card>
                                                        <div class="row">
                                                            <div class="col-md-11"><span class="font-w-700">Fallas
                                                                    ingresadas</span></div>
                                                            <div class="col-md-1  text--center"><button mat-icon-button>
                                                                    <mat-icon svgIcon="heroicons_outline:trash">
                                                                    </mat-icon>
                                                                </button></div>
                                                        </div>
                                                    </mat-card>
                                                </div>
                                                <div class="col-md-12">
                                                    <!-- <table mat-table [dataSource]="dataSourceFallas"
                                                        class="mat-elevation-z8">
                                                        <ng-container matColumnDef="position">
                                                            <th mat-header-cell *matHeaderCellDef width="18%"> Código de
                                                                Falla </th>
                                                            <td mat-cell *matCellDef="let element"> {{element.position}}
                                                            </td>
                                                        </ng-container>
                                                        <ng-container matColumnDef="name">
                                                            <th mat-header-cell *matHeaderCellDef width="18%"> Sistema
                                                            </th>
                                                            <td mat-cell *matCellDef="let element"> {{element.name}}
                                                            </td>
                                                        </ng-container>
                                                        <ng-container matColumnDef="weight">
                                                            <th mat-header-cell *matHeaderCellDef width="18%"> Parte
                                                                Fallada del Sistema </th>
                                                            <td mat-cell *matCellDef="let element"> {{element.weight}}
                                                            </td>
                                                        </ng-container>
                                                        <ng-container matColumnDef="symbol">
                                                            <th mat-header-cell *matHeaderCellDef width="18%"> Modo de
                                                                Falla </th>
                                                            <td mat-cell *matCellDef="let element"> {{element.symbol}}
                                                            </td>
                                                        </ng-container>
                                                        <ng-container matColumnDef="description">
                                                            <th mat-header-cell *matHeaderCellDef width="23%">
                                                                Descripción de código de falla </th>
                                                            <td mat-cell *matCellDef="let element"> {{element.symbol}}
                                                            </td>
                                                        </ng-container>
                                                        <ng-container matColumnDef="action">
                                                            <th mat-header-cell *matHeaderCellDef width="5%"></th>
                                                            <td mat-cell *matCellDef="let element" class="text--end">
                                                                <mat-checkbox color="primary"></mat-checkbox>
                                                            </td>
                                                        </ng-container>
                                                        <tr mat-header-row *matHeaderRowDef="displayedColumnsFallas">
                                                        </tr>
                                                        <tr mat-row
                                                            *matRowDef="let row; columns: displayedColumnsFallas;"></tr>
                                                    </table> -->
                                                </div>
                                            </div>
                                        </mat-expansion-panel>
                                        <!-- SRT ok-->
                                        <mat-expansion-panel>
                                            <mat-expansion-panel-header>
                                                <mat-panel-title class="font-w-700">SRT's</mat-panel-title>
                                                <mat-panel-description>
                                                    <p class="monto-narrativa font-w-700">{{montoTotalManoDeObra |
                                                        currency: 'S/.': 'symbol':''}}</p>
                                                </mat-panel-description>
                                            </mat-expansion-panel-header>
                                            <hr color="#E2E8F0">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <mat-card class="card-table">
                                                        <div class="row">
                                                            <div class="col-md-12"><span class="font-w-700">SRT
                                                                    ingresados</span></div>
                                                        </div>
                                                    </mat-card>
                                                </div>
                                                <div class="col-md-12 margin-b-15">
                                                    <table mat-table [dataSource]="dataSourceSrt"
                                                        class="mat-elevation-z8">
                                                        <ng-container matColumnDef="codigo">
                                                            <th mat-header-cell *matHeaderCellDef width="13%"> Código
                                                                SRT </th>
                                                            <td mat-cell *matCellDef="let element">
                                                                {{element.grupoSrt+'-'+element.procedimiento}} </td>
                                                        </ng-container>
                                                        <ng-container matColumnDef="cantidad">
                                                            <th mat-header-cell *matHeaderCellDef width="13%"> Cantidad
                                                            </th>
                                                            <td mat-cell *matCellDef="let element">{{element.cantidadSrt
                                                                | currency : 'symbol':''}}</td>
                                                        </ng-container>
                                                        <ng-container matColumnDef="hhInvertida">
                                                            <th mat-header-cell *matHeaderCellDef width="13%"> H-H
                                                                invertida </th>
                                                            <td mat-cell *matCellDef="let element">
                                                                {{element.horasHombreSrt | currency : 'symbol':''}}</td>
                                                        </ng-container>
                                                        <ng-container matColumnDef="srtFabrica">
                                                            <th mat-header-cell *matHeaderCellDef width="12%"> SRT
                                                                Fábrica </th>
                                                            <td mat-cell *matCellDef="let element">
                                                                {{element.srtFabrica}} </td>
                                                        </ng-container>
                                                        <ng-container matColumnDef="descripcion">
                                                            <th mat-header-cell *matHeaderCellDef width="25%">
                                                                Descripción </th>
                                                            <td mat-cell *matCellDef="let element">
                                                                {{element.descripcion}}</td>
                                                        </ng-container>
                                                        <ng-container matColumnDef="codigoAcceso">
                                                            <th mat-header-cell *matHeaderCellDef width="12%"> Código de
                                                                acceso </th>
                                                            <td mat-cell *matCellDef="let element">
                                                                {{element.codigoAcceso}}</td>
                                                        </ng-container>
                                                        <ng-container matColumnDef="subTotalHH">
                                                            <th mat-header-cell *matHeaderCellDef width="12%"> Sub total
                                                                H-H </th>
                                                            <td mat-cell *matCellDef="let element">
                                                                {{element.subTotalSrt | currency : 'symbol':'' }} </td>
                                                        </ng-container>
                                                        <tr mat-header-row
                                                            *matHeaderRowDef="displayedColumnsSrtVerificacion"></tr>
                                                        <tr mat-row
                                                            *matRowDef="let row; columns: displayedColumnsSrtVerificacion;">
                                                        </tr>
                                                    </table>
                                                </div>
                                                <div class="col-md-12">
                                                    <div class="row">
                                                        <div class="col-md-3" style="padding: 0 0 0 40px;">
                                                            <span>Totales</span></div>
                                                        <div class="col-md-2 text-start" style="padding: 0;">
                                                            <mat-form-field style="width: 58%;">
                                                                <input matInput type="text" placeholder="0"
                                                                    [value]="totalHorasHombre | currency : 'symbol':''"
                                                                    [disabled]="true">
                                                            </mat-form-field>
                                                        </div>
                                                        <div class="col-md-5"></div>
                                                        <div class="col-md-2 text--center">
                                                            <mat-form-field style="width: 70%;">
                                                                <input matInput type="text" placeholder="0"
                                                                    [value]="montoTotalManoDeObra | currency : 'symbol':''"
                                                                    [disabled]="true">
                                                            </mat-form-field>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-12 flex-row margin-b-10">
                                                    <div class="w4">
                                                        <span>Monto total mano de obra $</span>
                                                    </div>
                                                    <div class="w6">
                                                        <span class="font-w-700">{{montoTotalManoDeObra | currency :
                                                            'S/.': 'symbol':''}}</span>
                                                    </div>
                                                </div>
                                                <div class="col-md-12 flex-row margin-b-10">
                                                    <div class="w4">
                                                        <span>Monto total SRT Mano de obra con penalización $</span>
                                                    </div>
                                                    <div class="w6">
                                                        <span class="font-w-700">{{montoTotalManoDeObraConPenalizacion |
                                                            currency : 'S/.': 'symbol':''}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </mat-expansion-panel>
                                        <!-- PARTES ok-->
                                        <mat-expansion-panel>
                                            <mat-expansion-panel-header>
                                                <mat-panel-title class="font-w-700">Partes</mat-panel-title>
                                                <mat-panel-description>
                                                    <p class="monto-narrativa font-w-700">{{montoTotalPartes | currency:
                                                        'S/.': 'symbol':''}}</p>
                                                </mat-panel-description>
                                            </mat-expansion-panel-header>
                                            <hr color="#E2E8F0">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <mat-card class="card-table">
                                                        <span class="font-w-700">Partes ingresadas</span>
                                                    </mat-card>
                                                </div>
                                                <div class="col-md-12 margin-b-15">
                                                    <table mat-table [dataSource]="dataSourcePartes"
                                                        class="mat-elevation-z8">
                                                        <ng-container matColumnDef="numeroParte">
                                                            <th mat-header-cell *matHeaderCellDef width="20%"> Numero de
                                                                parte </th>
                                                            <td mat-cell *matCellDef="let element"> {{element.codigo}}
                                                            </td>
                                                        </ng-container>
                                                        <ng-container matColumnDef="descripcion">
                                                            <th mat-header-cell *matHeaderCellDef width="25%">
                                                                Descripcion </th>
                                                            <td mat-cell *matCellDef="let element">
                                                                {{element.descripcion}}</td>
                                                        </ng-container>
                                                        <ng-container matColumnDef="cantidad">
                                                            <th mat-header-cell *matHeaderCellDef width="15%"> Cantidad
                                                            </th>
                                                            <td mat-cell *matCellDef="let element">
                                                                {{element.cantidadParte | currency: 'symbol':''}}</td>
                                                        </ng-container>
                                                        <ng-container matColumnDef="precioUnitario">
                                                            <th mat-header-cell *matHeaderCellDef width="15%"> Precio
                                                                Unit. </th>
                                                            <td mat-cell *matCellDef="let element">
                                                                {{element.precioUnitarioParte | currency: 'symbol':''}}
                                                            </td>
                                                        </ng-container>
                                                        <ng-container matColumnDef="precioListaSap">
                                                            <th mat-header-cell *matHeaderCellDef width="15%"> Precio
                                                                lista SAP </th>
                                                            <td mat-cell *matCellDef="let element"> {{element.precioFob
                                                                | currency: 'symbol':'' }} </td>
                                                        </ng-container>
                                                        <ng-container matColumnDef="subTotal">
                                                            <th mat-header-cell *matHeaderCellDef width="10%"> Sub Total
                                                            </th>
                                                            <td mat-cell *matCellDef="let element">
                                                                {{element.subTotalParte | currency: 'symbol':''}} </td>
                                                        </ng-container>
                                                        <tr mat-header-row
                                                            *matHeaderRowDef="displayedColumnsPartesVerificacion"></tr>
                                                        <tr mat-row
                                                            *matRowDef="let row; columns: displayedColumnsPartesVerificacion;">
                                                        </tr>
                                                    </table>
                                                </div>
                                                <div class="col-md-12">
                                                    <div class="row">
                                                        <div
                                                            class="col-md-10 d-flex justify-content-end align-items-center">
                                                            <span>Total:</span></div>
                                                        <div
                                                            class="col-md-2 d-flex justify-content-center align-items-center">
                                                            <mat-form-field style="width: 60%;"><input matInput
                                                                    type="text" placeholder=""
                                                                    [value]="montoTotalPartes | currency: 'symbol':''"
                                                                    [disabled]="true"> </mat-form-field>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-12 flex-row margin-b-10">
                                                    <div class="w3"> <span>Monto total de partes $</span> </div>
                                                    <div class="w7"> <span class="font-w-700">{{montoTotalPartes |
                                                            currency: 'S/.': 'symbol':''}}</span> </div>
                                                </div>
                                                <div class="col-md-12 flex-row margin-b-10">
                                                    <div class="w3"> <span>Monto total partes con penalización $</span>
                                                    </div>
                                                    <div class="w7"> <span
                                                            class="font-w-700">{{montoTotalPartesConPenalizacion |
                                                            currency: 'S/.': 'symbol':''}}</span> </div>
                                                </div>
                                                <div class="col-md-12 flex-row margin-b-10">
                                                    <div class="w3"> <span>Monto total de partes en SAP</span> </div>
                                                    <div class="w7"> <span class="font-w-700">{{montoTotalPartesEnSAP |
                                                            currency: 'S/.': 'symbol':''}}</span> </div>
                                                </div>
                                            </div>
                                        </mat-expansion-panel>
                                        <!-- OTROS RECLAMABLES OK -->
                                        <mat-expansion-panel>
                                            <mat-expansion-panel-header>
                                                <mat-panel-title class="font-w-700">Otros reclamables</mat-panel-title>
                                                <mat-panel-description>
                                                    <p class="monto-narrativa font-w-700">{{totalPrecioReclamables |
                                                        currency: 'S/.': 'symbol':''}}</p>
                                                </mat-panel-description>
                                            </mat-expansion-panel-header>
                                            <hr color="#E2E8F0">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <mat-card class="card-table">
                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <span class="font-w-700">Otros reclamables
                                                                    ingresados</span>
                                                            </div>
                                                        </div>
                                                    </mat-card>
                                                </div>
                                                <div class="col-md-12 margin-b-15">
                                                    <table mat-table [dataSource]="dataSourceOtrosReclamables"
                                                        class="mat-elevation-z8">
                                                        <ng-container matColumnDef="descripcion">
                                                            <th mat-header-cell *matHeaderCellDef width="80%">
                                                                Descripcion </th>
                                                            <td mat-cell *matCellDef="let element">
                                                                {{element.descripcion}}</td>
                                                        </ng-container>
                                                        <ng-container matColumnDef="precio">
                                                            <th mat-header-cell *matHeaderCellDef width="20%"> Precio
                                                            </th>
                                                            <td mat-cell *matCellDef="let element">
                                                                {{element.precioReclamable}}</td>
                                                        </ng-container>
                                                        <tr mat-header-row
                                                            *matHeaderRowDef="displayedColumnsOtrosReclamablesVerificacion">
                                                        </tr>
                                                        <tr mat-row
                                                            *matRowDef="let row; columns: displayedColumnsOtrosReclamablesVerificacion;">
                                                        </tr>
                                                    </table>
                                                </div>
                                                <div class="col-md-12">
                                                    <div class="row">
                                                        <div
                                                            class="col-md-9 d-flex justify-content-end align-items-center">
                                                            <span>Total:</span></div>
                                                        <div
                                                            class="col-md-3 d-flex justify-content-start align-items-center">
                                                            <mat-form-field style="width: 50%;">
                                                                <input matInput type="text" placeholder=""
                                                                    [value]="totalPrecioReclamables | currency: 'symbol':''"
                                                                    [disabled]="true">
                                                            </mat-form-field>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-12 flex-row margin-b-10">
                                                    <div class="w3">
                                                        <span>Monto total de otros reclamables $</span>
                                                    </div>
                                                    <div class="w7">
                                                        <span class="font-w-700">{{totalPrecioReclamables | currency:
                                                            'S/.': 'symbol':''}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </mat-expansion-panel>
                                        <!-- VIAJES OK-->
                                        <mat-expansion-panel>
                                            <mat-expansion-panel-header>
                                                <mat-panel-title class="font-w-700">Viajes</mat-panel-title>
                                                <mat-panel-description>
                                                    <p class="monto-narrativa font-w-700">{{montoTotalDeViajes |
                                                        currency: 'S/.': 'symbol':''}}</p>
                                                </mat-panel-description>
                                            </mat-expansion-panel-header>
                                            <hr color="#E2E8F0">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <mat-card class="card-table">
                                                        <span class="font-w-700">Viajes ingresados</span>
                                                    </mat-card>
                                                </div>
                                                <div class="col-md-12 mb-5">
                                                    <table mat-table [dataSource]="dataSourceViajes"
                                                        class="mat-elevation-z8">
                                                        <ng-container matColumnDef="fecha">
                                                            <th mat-header-cell *matHeaderCellDef width="13%"> Fecha:
                                                            </th>
                                                            <td mat-cell *matCellDef="let element">
                                                                {{element.fechaDeViaje | date: 'dd/MM/yyyy'}} </td>
                                                        </ng-container>
                                                        <ng-container matColumnDef="medioTransporte">
                                                            <th mat-header-cell *matHeaderCellDef width="13%"> Medio de
                                                                Transporte </th>
                                                            <td mat-cell *matCellDef="let element">
                                                                {{element.tipoTransporte}} </td>
                                                        </ng-container>
                                                        <ng-container matColumnDef="descripcion">
                                                            <th mat-header-cell *matHeaderCellDef width="20%">
                                                                Descripcion </th>
                                                            <td mat-cell *matCellDef="let element">
                                                                {{element.descripcionDeViaje}} </td>
                                                        </ng-container>
                                                        <ng-container matColumnDef="tipo">
                                                            <th mat-header-cell *matHeaderCellDef width="10%"> Tipo
                                                            </th>
                                                            <td mat-cell *matCellDef="let element">
                                                                {{element.codigoTipoViaje}} </td>
                                                        </ng-container>
                                                        <ng-container matColumnDef="detalle">
                                                            <th mat-header-cell *matHeaderCellDef width="14%"> Detalle
                                                            </th>
                                                            <td mat-cell *matCellDef="let element">
                                                                {{element.codigoDetalleViaje}} </td>
                                                        </ng-container>
                                                        <ng-container matColumnDef="unidadMedida">
                                                            <th mat-header-cell *matHeaderCellDef width="10%"> Unidad de
                                                                Medida </th>
                                                            <td mat-cell *matCellDef="let element">
                                                                {{element.unidadDeMedida}} </td>
                                                        </ng-container>
                                                        <ng-container matColumnDef="valor">
                                                            <th mat-header-cell *matHeaderCellDef width="10%"> Valor
                                                            </th>
                                                            <td mat-cell *matCellDef="let element">
                                                                {{element.valorDeViaje | currency: 'symbol':''}} </td>
                                                        </ng-container>
                                                        <ng-container matColumnDef="costo">
                                                            <th mat-header-cell *matHeaderCellDef width="10%"> Costo
                                                            </th>
                                                            <td mat-cell *matCellDef="let element">
                                                                {{element.costoDeViaje | currency: 'symbol':'' }} </td>
                                                        </ng-container>
                                                        <tr mat-header-row
                                                            *matHeaderRowDef="displayedColumnsViajesVerificacion"></tr>
                                                        <tr mat-row
                                                            *matRowDef="let row; columns: displayedColumnsViajesVerificacion;">
                                                        </tr>
                                                    </table>
                                                </div>
                                                <div class="col-md-12">
                                                    <div class="row">
                                                        <div
                                                            class="col-md-10 d-flex justify-content-end align-items-center">
                                                            <span>Total:</span></div>
                                                        <div
                                                            class="col-md-2 d-flex justify-content-center align-items-center">
                                                            <mat-form-field style="width: 65%;">
                                                                <input matInput type="text" placeholder=""
                                                                    [value]="montoTotalDeViajes | currency: 'symbol':''"
                                                                    [disabled]="true">
                                                            </mat-form-field>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-12 flex-row margin-b-10">
                                                    <div class="w3">
                                                        <span>Monto total de viajes $</span>
                                                    </div>
                                                    <div class="w7">
                                                        <span class="font-w-700">
                                                            {{montoTotalDeViajes | currency: 'S/.': 'symbol':''}}
                                                        </span>
                                                    </div>
                                                </div>
                                                <div class="col-md-12 flex-row margin-b-10">
                                                    <div class="w3">
                                                        <span>Monto total de viajes con penalización $</span>
                                                    </div>
                                                    <div class="w7">
                                                        <span class="font-w-700">{{montoTotalDeViajesConPenalizacion |
                                                            currency: 'S/.': 'symbol':''}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </mat-expansion-panel>
                                        <!-- NARRATIVAS -->
                                        <mat-expansion-panel>
                                            <mat-expansion-panel-header>
                                                <mat-panel-title class="font-w-700">Narrativa</mat-panel-title>
                                                <mat-panel-description>
                                                    <p class="monto-narrativa font-w-700">-</p>
                                                </mat-panel-description>
                                            </mat-expansion-panel-header>
                                            <hr color="#E2E8F0">
                                            <mat-card class="card-table">
                                                <div class="row">
                                                    <div class="col-md-11"><span class="font-w-700">Narrativa
                                                            ingresada</span></div>
                                                </div>
                                            </mat-card>
                                            <mat-card class="card-narrativa-cabezera">
                                                <div class="row">
                                                    <div class="col-md-2"><span class="font-w-700">Quejas</span></div>
                                                    <div class="col-md-2"><span class="font-w-700">ID Promotion</span>
                                                    </div>
                                                    <div class="col-md-2"><span class="font-w-700">Técnico</span></div>
                                                    <div class="col-md-3"><span class="font-w-700">Causas</span></div>
                                                    <div class="col-md-3"><span class="font-w-700">Correcciones</span>
                                                    </div>
                                                </div>
                                            </mat-card>
                                            <mat-card class="card-narrativa-cuerpo">
                                                <div class="row">
                                                    <div class="col-md-2 d-flex align-items-center font-w-700">
                                                        <div>
                                                            <div class="col-md-12">{{queja1.descripcion}}</div>
                                                            <div class="col-md-12">{{queja2.descripcion}}</div>
                                                            <div class="col-md-12">{{queja3.descripcion}}</div>
                                                            <div class="col-md-12">{{queja4.descripcion}}</div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-2 d-flex align-items-center"><span>ID
                                                            Promotion</span></div>
                                                    <div class="col-md-2 d-flex align-items-center"><span>Técnico</span>
                                                    </div>
                                                    <div class="col-md-3 d-flex align-items-center">
                                                        <mat-form-field>
                                                            <textarea matInput [(ngModel)]="causasNarrativa"
                                                                [ngModelOptions]="{standalone: true}"
                                                                [disabled]="true"></textarea>
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="col-md-3 d-flex align-items-center">
                                                        <mat-form-field>
                                                            <textarea matInput [(ngModel)]="correccionesNarrativa"
                                                                [ngModelOptions]="{standalone: true}"
                                                                [disabled]="true"></textarea>
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                            </mat-card>
                                        </mat-expansion-panel>
                                    </mat-accordion>
                                </div>
                                <div class="col-md-12">
                                    <div class="row">
                                        <div class="col-md-4 flex-xy-center">
                                            <p>Reclamado a PSG – Costo SAP = Margen bruto de OS
                                                (MBO) (en dólares $) y % de recupero (en %)</p>
                                        </div>
                                        <div class="col-md-2"></div>
                                        <div class="col-md-6">
                                            <mat-card class="total">
                                                <div class="row">
                                                    <div class="col-md-6" style="width: 50%;">
                                                        <span>Total reclamar(US$)</span>
                                                    </div>
                                                    <div class="col-md-6" style="width: 50%;">
                                                        <span class="font-w-700">{{montoTotal | currency :
                                                            'S/.': 'symbol':''}}</span>
                                                    </div>
                                                    <div class="col-md-6" style="width: 50%;">
                                                        <span>IGV</span>
                                                    </div>
                                                    <div class="col-md-6" style="width: 50%;">
                                                        <span class="font-w-700">{{montoIGV | currency :
                                                            'S/.': 'symbol':''}}</span>
                                                    </div>
                                                    <div class="col-md-6" style="width: 50%;">
                                                        <span>Total del reclamo(US$)</span>
                                                    </div>
                                                    <div class="col-md-6" style="width: 50%;">
                                                        <span class="text-red font-w-700"
                                                            style="font-size: large;">{{montoTotalConIGV | currency :
                                                                'S/.': 'symbol':''}}</span>
                                                    </div>
                                                </div>
                                            </mat-card>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <hr width="100%" color="#E2E8F0">
                        </div>
                        <!-- ADJUNTAR DOCUMENTOS -->
                        <div class="col-md-12 documentos">
                            <div class="row">
                                <div class="col-md-12 margin-b-10">
                                    <span class="font-w-700">Documentos</span>
                                </div>
                                <div class="col-md-12 margin-b-10">
                                    <button mat-raised-button (click)="adjuntarDocumento()">
                                        <mat-icon svgIcon="heroicons_outline:upload"></mat-icon>Adjuntar documento
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </mat-card-content>
                <mat-card-actions align="end" style="margin-bottom: 20px;">
                    <button mat-raised-button *ngIf="this.warranty.bandeja!=4" (click)="onSendRegister('back')">Prueba</button>
                    <button mat-raised-button *ngIf="this.warranty.bandeja!=4" (click)="onSendRegister('edit')">Guardar</button>
                    <button mat-raised-button *ngIf="this.warranty.bandeja!=4" (click)="onSendRegister('rechazar')">Rechazar</button>
                    <button mat-raised-button *ngIf="this.warranty.bandeja!=4" (click)="onSendRegister('observar')">Observar</button>
                    <button mat-raised-button *ngIf="this.warranty.bandeja==2 || this.warranty.bandeja==6" (click)="onSendRegister('preview')">Preview</button>
                    <button mat-raised-button *ngIf="this.warranty.bandeja==3" (click)="onSendRegister('refile')">Refile</button>
                    <button mat-raised-button color="primary" *ngIf="this.warranty.bandeja==2" (click)="onSendRegister('amarilla')">Mandar a Evaluar</button>
                    <button mat-raised-button color="primary" *ngIf="this.warranty.bandeja==6" (click)="onSendRegister('verde')">Procesar PreRapidServer</button>
                    <button mat-raised-button color="primary" *ngIf="this.warranty.bandeja==3" (click)="onSendRegister('gris')">Reclamo Pagado</button>
                </mat-card-actions>
            </mat-card>
        </div>
    </div>
</div>